TMの5つの文法 3.関係の文法
================

エンティティを作って、エンティティを2種類に分類した後は、エンティティ間の関係を定義していきます。

TMでは、エンティティ間の関係を４つの関係文法のルールに従って生成します。

4つの関係文法
-------

1. リソースとリソース間

   対照表を作成します。対照表はリソース間の組合せを表す表（エンティティではないので注意）です。

   リソースの組であるため、TMの関係文法では対照表はリソースと同じ扱いをします。

   しかし、対照表の右側に日付（過去日）を付けた時に意味があれば、意味的にイベントとみなすことができます。

2. リソースとイベント間

   リソースの個体指定子をイベントの左側へコピーします。「リソースがイベントに関与する。」というそうです。見慣れたER図の依存リレーションシップと似ています。

3. イベントとイベント間

   イベントの発生する時系列で早い方をfrom、遅い方をtoとした場合、先にマウスで選択した方がfromとなります。

   fromとtoが1:1または1:Nの場合は、個体指定子をイベントの左側へコピーします。

   fromとtoがN:1の場合は、対応表を作成します。対応表はイベント間の対応を表す表（エンティティではありません）。対応表は、他のエンティティや表と関係を持てません。

4. 同一エンティティ間

   再帰表を作成します。

   TMの関係文法では、リソースの再帰表はリソース、イベントの再帰表はイベントと同じ扱いをします。

ちなみに(R)は Referenceではなく、Re-usedと呼んでいます。

TMD-Makerも、以下の文法に従ってリレーションを自動生成します。

リレーション生成方法
----------

1. リレーションツールを選択する

2. エンティティ（表）をクリックする

   先にクリックした方がfromとなります。

3. エンティティ（表）をクリックする

   後にクリックした方がtoとなります。

   fromとtoで上記文法に従ったリレーションが生成されます。
